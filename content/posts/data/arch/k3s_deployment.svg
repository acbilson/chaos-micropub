<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="878px" preserveAspectRatio="none" style="width:1655px;height:878px;" version="1.1" viewBox="0 0 1655 878" width="1655px" zoomAndPan="magnify"><defs><filter height="300%" id="f15u10nb7wjtju" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="225" x="708.75" y="16.708">k3s Deployment Diagram</text><!--MD5=[f885186e188f8dee4ee6ae82194c1755]
cluster data_server--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="139.5,327.9531,149.5,317.9531,308.5,317.9531,308.5,393.9531,298.5,403.9531,139.5,403.9531,139.5,327.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="298.5" x2="308.5" y1="327.9531" y2="317.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="139.5" x2="298.5" y1="327.9531" y2="327.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="298.5" x2="298.5" y1="327.9531" y2="403.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="173.5" y="343.9482">data_server</text><!--MD5=[b654895995f3b95b1584c6bb7a200c64]
cluster site_deployment--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="431.5,26.9531,566.5,26.9531,573.5,49.25,1584.5,49.25,1584.5,871.9531,431.5,871.9531,431.5,26.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="431.5" x2="573.5" y1="49.25" y2="49.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129" x="435.5" y="41.9482">site_deployment</text><!--MD5=[8671a5cfbc858215522d29d4b3ad1024]
cluster static_site--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="905.5,210.9531,915.5,200.9531,1060.5,200.9531,1060.5,276.9531,1050.5,286.9531,905.5,286.9531,905.5,210.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1050.5" x2="1060.5" y1="210.9531" y2="200.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="905.5" x2="1050.5" y1="210.9531" y2="210.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="1050.5" x2="1050.5" y1="210.9531" y2="286.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="939.5" y="226.9482">static_site</text><!--MD5=[a4b3693eb9749e554df865829d7f5d61]
cluster pub_server--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="1389.5,210.9531,1399.5,200.9531,1576.5,200.9531,1576.5,853.9531,1566.5,863.9531,1389.5,863.9531,1389.5,210.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1566.5" x2="1576.5" y1="210.9531" y2="200.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="1389.5" x2="1566.5" y1="210.9531" y2="210.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="1566.5" x2="1566.5" y1="210.9531" y2="863.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="1434.5" y="226.9482">pub_server</text><!--MD5=[d2cfb326a40ac76311f9e5d53f50c4fe]
cluster build_server--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="562.5,210.9531,572.5,200.9531,761.5,200.9531,761.5,276.9531,751.5,286.9531,562.5,286.9531,562.5,210.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="751.5" x2="761.5" y1="210.9531" y2="200.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="562.5" x2="751.5" y1="210.9531" y2="210.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="751.5" x2="751.5" y1="210.9531" y2="286.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="609.5" y="226.9482">build_server</text><!--MD5=[9d405d8effad5e49cd59cd921525e124]
entity datasette--><rect fill="#ADD8E6" filter="url(#f15u10nb7wjtju)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="106" x="153.5" y="349.9531"/><rect fill="#ADD8E6" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="239.5" y="354.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="237.5" y="356.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="237.5" y="360.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="168.5" y="382.9482">datasette</text><!--MD5=[126c1044993dc7cb0b851fd08ef7684c]
entity site_service--><rect fill="#90EE90" filter="url(#f15u10nb7wjtju)" height="36.2969" style="stroke:#A80036;stroke-width:1.5;" width="101" x="1049" y="498.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1059" y="521.9482">site_service</text><!--MD5=[ae826d22571cd783223c569f5da65001]
entity chaos_source--><polygon fill="#D2B48C" filter="url(#f15u10nb7wjtju)" points="501,472.9531,547,472.9531,554,493.9531,640,493.9531,640,561.1406,501,561.1406,501,472.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="501" x2="554" y1="493.9531" y2="493.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="511" y="513.9482">source (PV)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="511" y="530.2451">chaos_content/</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="511" y="546.542">chaos_theme/</text><!--MD5=[6efb4afd612182dcdbaf5716d5c1cddd]
entity chaos_site--><polygon fill="#D2B48C" filter="url(#f15u10nb7wjtju)" points="740.5,488.9531,786.5,488.9531,793.5,509.9531,876.5,509.9531,876.5,544.5469,740.5,544.5469,740.5,488.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="740.5" x2="793.5" y1="509.9531" y2="509.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="750.5" y="529.9482">chaos_site (PV)</text><!--MD5=[1577b13129e9126d39fd1a79e93d336f]
entity site_bk--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="443,63.9531,453,53.9531,532,53.9531,532,90.25,522,100.25,443,100.25,443,63.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="522" x2="532" y1="63.9531" y2="53.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="443" x2="522" y1="63.9531" y2="63.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="522" x2="522" y1="63.9531" y2="100.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="458" y="86.9482">site_bk</text><!--MD5=[cf3cc325b482a63f7670ba0a2dd9db69]
entity cronjob_bk--><rect fill="#FFC0CB" filter="url(#f15u10nb7wjtju)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="96" x="439.5" y="237.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="449.5" y="260.9482">cronjob_bk</text><!--MD5=[59e66b47b1aebc242d483e55feddbcd3]
entity nginx_st--><rect fill="#ADD8E6" filter="url(#f15u10nb7wjtju)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="915" y="232.9531"/><rect fill="#ADD8E6" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="992" y="237.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="990" y="239.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="990" y="243.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="930" y="265.9482">nginx_st</text><!--MD5=[100efb9501eed6cd0c264c76aabcfa8b]
entity nginx_py--><rect fill="#ADD8E6" filter="url(#f15u10nb7wjtju)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="100" x="1423.5" y="809.9531"/><rect fill="#ADD8E6" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1503.5" y="814.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1501.5" y="816.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1501.5" y="820.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1438.5" y="842.9482">nginx_py</text><!--MD5=[3784ce98b1e0962d344f1152fa059ebf]
entity python_uwsgi--><rect fill="#ADD8E6" filter="url(#f15u10nb7wjtju)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="135" x="1433" y="232.9531"/><rect fill="#ADD8E6" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1548" y="237.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1546" y="239.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1546" y="243.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1448" y="265.9482">python_uwsgi</text><!--MD5=[e77ed45bd6c8e993fb27bb3808cc8e07]
entity hugo_webhook--><rect fill="#ADD8E6" filter="url(#f15u10nb7wjtju)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="147" x="571" y="232.9531"/><rect fill="#ADD8E6" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="698" y="237.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="696" y="239.9531"/><rect fill="#ADD8E6" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="696" y="243.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="586" y="265.9482">hugo_webhook</text><!--MD5=[780f6b4897f415f0a3e8de4d94762070]
entity data_pull--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="16,242.9531,26,232.9531,117,232.9531,117,269.25,107,279.25,16,279.25,16,242.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="107" x2="117" y1="242.9531" y2="232.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="107" y1="242.9531" y2="242.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="107" x2="107" y1="242.9531" y2="279.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="31" y="265.9482">data_pull</text><!--MD5=[eba6e82c449285c95f5a2f8eae3d1f01]
entity cronjob_pull--><rect fill="#FFC0CB" filter="url(#f15u10nb7wjtju)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="103" x="15" y="354.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="25" y="377.9482">cronjob_pull</text><!--MD5=[4e38047da4f3abe9fbcd6c95a09ebe72]
entity data_service--><rect fill="#90EE90" filter="url(#f15u10nb7wjtju)" height="36.2969" style="stroke:#A80036;stroke-width:1.5;" width="106" x="241.5" y="498.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="251.5" y="521.9482">data_service</text><!--MD5=[58f4e447959aceec7272150cf8db77ca]
entity chaos_data--><polygon fill="#D2B48C" filter="url(#f15u10nb7wjtju)" points="37,488.9531,83,488.9531,90,509.9531,178,509.9531,178,544.5469,37,544.5469,37,488.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="37" x2="90" y1="509.9531" y2="509.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="47" y="529.9482">chaos_data (PV)</text><!--MD5=[87720248ca33951c08dcc9d36df169d8]
entity nginx_ingress--><polygon fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" points="184,631.9531,194,621.9531,405,621.9531,405,723.4375,395,733.4375,184,733.4375,184,631.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="395" x2="405" y1="631.9531" y2="621.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="184" x2="395" y1="631.9531" y2="631.9531"/><line style="stroke:#000000;stroke-width:1.5;" x1="395" x2="395" y1="631.9531" y2="733.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108" x="199" y="654.9482">nginx-ingress</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="199" y="671.2451">alexbilson.dev</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="23" x="300" y="671.2451">:80</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="199" y="687.542">pub.alexbilson.dev</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="41" x="331" y="687.542">:8001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="199" y="703.8389">hook.alexbilson.dev</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="41" x="339" y="703.8389">:9001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="199" y="720.1357">data.alexbilson.dev</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="41" x="334" y="720.1357">:7001</text><!--MD5=[53a7890647be042c111b8a807eed420f]
entity internet--><path d="M242.8988,819.7791 C245.4638,813.7424 249.434,813.1617 254.2765,817.2096 C257.7724,812.4053 262.934,811.2738 265.9051,817.7506 C267.7201,812.3854 272.2807,812.1601 275.7423,815.9887 C279.301,811.961 285.0415,811.6312 286.9392,817.8108 C290.3776,813.0376 294.7059,811.889 298.2597,817.6871 C302.7738,812.2138 306.2886,812.7542 309.5842,818.877 C318.6733,821.5049 322.0441,825.8364 316.9225,834.9517 C322.6203,841.8914 318.3494,849.1649 310.4515,850.4154 C308.3116,855.8553 304.3219,857.374 299.6207,853.3453 C296.4415,858.9539 292.0858,859.6871 287.5572,854.913 C286.0309,861.0367 281.976,863.7376 276.2206,859.573 C271.0438,863.6116 267.3058,861.3804 266.1306,855.5017 C260.7901,859.9332 256.2708,859.5499 253.4358,852.6857 C249.3968,856.2678 245.2822,854.9824 243.6123,849.976 C235.0685,846.349 234.3125,839.5245 240.4753,833.155 C234.2885,827.3806 234.7846,822.9624 242.8988,819.7791 " fill="#FFFFFF" filter="url(#f15u10nb7wjtju)" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="248.5" y="837.9482">internet</text><!--MD5=[75f0564d735f39223a97aebed1443dc9]
link python_uwsgi to nginx_py--><path d="M1537.8467,279.0373 C1547.7147,287.1692 1557.1076,297.2493 1562.5,308.9531 C1580.1683,347.3008 1566.8109,361.9515 1562.5,403.9531 C1546.7941,556.9767 1500.3623,735.9495 1481.5507,804.3795 " fill="none" id="python_uwsgi-to-nginx_py" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1480.1377,809.5003,1486.3875,801.8885,1481.4677,804.6805,1478.6757,799.7606,1480.1377,809.5003" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1554.5" y="521.52">localhost:5000</text><!--MD5=[d6632b088a5766ba15740c157a00bc37]
link pub_server to chaos_source--><path d="M1389.4232,261.6532 C1389.3486,261.706 1389.2735,261.7591 1389.1979,261.8126 C1388.8956,262.0265 1388.5862,262.2454 1388.2699,262.4694 C1387.6371,262.9174 1386.9764,263.3853 1386.2893,263.8722 C1380.7924,267.7674 1373.6034,272.8772 1365.4768,278.6915 C1349.2236,290.3203 1329.2196,304.7674 1311.5,317.9531 C1261.1508,355.4194 1257.3202,379.5484 1199.5,403.9531 C1002.5574,487.0784 932.4813,427.9753 723.5,472.9531 C697.6618,478.5141 669.7787,486.0599 644.9835,493.3318 " fill="none" id="pub_server-to-chaos_source" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#A80036;stroke-width:1.5;" width="10" x="635.0672" y="489.7819"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="1312.5" y="377.52">uses (pvc)</text><!--MD5=[30dbf15ecb7796bdb5d8137fc4d97e47]
link build_server to chaos_source--><path d="M735.5,286.9531 C705.7779,312.1448 681.5106,290.8711 653.5,317.9531 C611.6506,358.4151 590.0174,423.1497 579.482,467.738 " fill="none" id="build_server-to-chaos_source" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#A80036;stroke-width:1.5;" width="10" x="573.3129" y="467.8009"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="654.5" y="377.52">uses (pvc)</text><!--MD5=[9978426837623595d7c27896f9056aa7]
link build_server to chaos_site--><path d="M742.5577,287.0426 C742.4489,287.4085 742.34,287.7769 742.2311,288.1476 C742.0132,288.8892 741.7951,289.6404 741.5771,290.4009 C739.8335,296.4846 738.0976,303.1625 736.5255,310.2565 C730.2368,338.6323 726.5675,373.6646 735.5,403.9531 C744.2951,433.7755 763.6836,463.1389 780.2696,484.4562 " fill="none" id="build_server-to-chaos_site" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#A80036;stroke-width:1.5;" width="10" x="778.5455" y="483.6101"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="736.5" y="377.52">compiles (pvc)</text><!--MD5=[eb3909f103fff919efc50e635ec3529c]
link static_site to chaos_site--><path d="M1029.5,286.9531 C981.0212,320.5202 946.097,280.5653 900.5,317.9531 C848.4952,360.595 824.4513,439.1723 814.5449,483.7666 " fill="none" id="static_site-to-chaos_site" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#A80036;stroke-width:1.5;" width="10" x="808.4617" y="483.7671"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="901.5" y="377.52">serves (pvc)</text><!--MD5=[492fd2c262fb0dc52b2219dc9c30895c]
link data_server to chaos_data--><path d="M277.5,403.9531 C251.9131,424.8497 235.1378,409.4839 206.5,425.9531 C179.5588,441.4465 153.8659,465.4345 135.4085,484.8925 " fill="none" id="data_server-to-chaos_data" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#A80036;stroke-width:1.5;" width="10" x="126.8152" y="483.7199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="207.5" y="439.02">serves (pvc)</text><!--MD5=[595ed6281bf2c3cdcfa5ff7865cc7f71]
link site_bk to cronjob_bk--><path d="M487.5,99.9878 C487.5,136.0577 487.5,205.1236 487.5,237.8707 " fill="none" id="site_bk-cronjob_bk" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[846218110248a738e58241a9fb23e9d6]
link cronjob_bk to chaos_source--><path d="M486.628,274.261 C485.8407,302.7666 486.5866,359.1387 501.5,403.9531 C508.1702,423.9969 518.9434,444.2122 530.0143,461.8928 " fill="none" id="cronjob_bk-to-chaos_source" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="537.1012,472.833,537.1962,465.6225,530.577,462.7616,530.4819,469.972,537.1012,472.833" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="502.5" y="377.52">24h</text><!--MD5=[0090f233f09cb108547646c17425e06e]
link data_pull to cronjob_pull--><path d="M66.5,279.0685 C66.5,301.3117 66.5,334.4873 66.5,354.8663 " fill="none" id="data_pull-cronjob_pull" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e7d2acf7918f6f16ad4b4494316f0f5d]
link cronjob_pull to chaos_data--><path d="M71.6927,391.1908 C77.7383,412.4242 87.9105,448.1509 95.8713,476.1108 " fill="none" id="cronjob_pull-to-chaos_data" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="99.462,488.7221,101.666,481.8561,96.1759,477.1808,93.9718,484.0469,99.462,488.7221" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="87.5" y="439.02">24h</text><!--MD5=[2204fd48e35fd4e1ab6fbd17132857b5]
link static_site to site_service--><path d="M1060.5746,262.0624 C1060.728,262.1622 1060.8828,262.2633 1061.0388,262.3655 C1066.0315,265.635 1072.3389,270.0705 1078.9251,275.4749 C1092.0975,286.2838 1106.385,300.9684 1113.5,317.9531 C1138.4091,377.4152 1119.6926,455.617 1107.623,493.8688 " fill="none" id="static_site-to-site_service" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1106.0421,498.7741,1112.61,491.435,1107.5758,494.0152,1104.9957,488.981,1106.0421,498.7741" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1126.5" y="377.52">0.0.0.0:80</text><!--MD5=[c23cbc903b2c469c1a973ba37a199729]
link pub_server to site_service--><path d="M1389.3805,400.7884 C1389.2592,401.0018 1389.1371,401.2147 1389.0142,401.4271 C1388.5225,402.2768 1388.0178,403.119 1387.5,403.9531 C1362.1367,444.8104 1231.3432,483.7982 1155.0231,503.5412 " fill="none" id="pub_server-to-site_service" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1150.0765,504.8136,1159.7893,506.4452,1154.9188,503.5679,1157.7961,498.6975,1150.0765,504.8136" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1406.5" y="377.52">0.0.0.0:8001</text><!--MD5=[e8e905743287ffe1be21431d5956f8c5]
link build_server to site_service--><path d="M761.6816,257.714 C761.849,257.7503 762.0188,257.7871 762.1908,257.8244 C763.5674,258.1229 765.0922,258.4544 766.7541,258.8168 C773.4018,260.2664 782.2435,262.2113 792.5666,264.5228 C813.2128,269.1459 839.785,275.2355 866.5837,281.7631 C920.1812,294.8182 974.6849,309.6249 984.5,317.9531 C1016.5011,345.1066 1003.0516,367.3028 1023.5,403.9531 C1041.7508,436.6645 1066.5214,472.1687 1082.751,494.4792 " fill="none" id="build_server-to-site_service" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1085.8785,498.7607,1083.7996,489.1338,1082.9291,494.7232,1077.3397,493.8527,1085.8785,498.7607" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1024.5" y="377.52">0.0.0.0:9001</text><!--MD5=[b9bcd2e8c76ecfdad3f130350cca6b33]
link data_server to data_service--><path d="M294.5,403.9616 C294.5,409.3635 294.5,415.2271 294.5,421.3466 C294.5,445.8242 294.5,474.395 294.5,493.8854 " fill="none" id="data_server-to-data_service" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="294.5,498.9067,298.5,489.9067,294.5,493.9067,290.5,489.9067,294.5,498.9067" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="295.5" y="439.02">0.0.0.0:7001</text><!--MD5=[c13f8bed06ff713d7d8ef6f6d2d3d97f]
link data_service to nginx_ingress--><path d="M294.5,535.0525 C294.5,554.8147 294.5,587.5332 294.5,616.6276 " fill="none" id="data_service-to-nginx_ingress" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="294.5,621.6374,298.5,612.6374,294.5,616.6374,290.5,612.6374,294.5,621.6374" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5d392b9d0aa458aa249331f1b3141ab9]
link site_service to nginx_ingress--><path d="M1048.5894,528.1709 C1007.1446,537.233 947.1038,550.2019 894.5,560.9531 C726.3318,595.3233 531.1301,632.772 410.2001,655.6863 " fill="none" id="site_service-to-nginx_ingress" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="405.2145,656.6307,414.8017,658.8858,410.1271,655.7002,413.3128,651.0256,405.2145,656.6307" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[afa7b32168b94335ea130742d377d278]
link nginx_ingress to internet--><path d="M287.6942,733.153 C284.7423,757.3123 281.412,784.5682 278.9785,804.4844 " fill="none" id="nginx_ingress-to-internet" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="278.3485,809.6403,283.4105,801.1919,278.9549,804.6772,275.4696,800.2216,278.3485,809.6403" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="284.5" y="776.02">https://*.alexbilson.dev</text><!--MD5=[2484336ae1fbbcd58f9c09fd84050f17]
@startuml
'
title k3s Deployment Diagram

skinparam nodeBackgroundColor #white
skinparam agentBackgroundColor #lightGreen
skinparam rectangleBackgroundColor #pink
skinparam componentBackgroundColor #lightBlue
skinparam folderBackgroundColor #tan
skinparam cloudBackgroundColor #white

node data_pull
rectangle cronjob_pull
agent data_service

node data_server {
  component datasette
}

folder chaos_data [
  chaos_data (PV)
]

package site_deployment {

  agent site_service

  node static_site {
    component nginx_st
  }

  node pub_server {
    component nginx_py
    component python_uwsgi

    python_uwsgi ..> nginx_py : localhost:5000
  }

  node build_server {
    component hugo_webhook
  }

  folder chaos_source [
    <b>source (PV)
    chaos_content/
    chaos_theme/
  ]

  folder chaos_site [
    chaos_site (PV)
  ]

  node site_bk
  rectangle cronjob_bk
}


node nginx_ingress [
  <b>nginx-ingress
  alexbilson.dev <i>:80
  pub.alexbilson.dev <i>:8001
  hook.alexbilson.dev <i>:9001
  data.alexbilson.dev <i>:7001
]

cloud internet

' Relationships

pub_server - -# chaos_source : uses (pvc)
build_server - -# chaos_source : uses (pvc)
build_server - -# chaos_site : compiles (pvc)
static_site - -# chaos_site : serves (pvc)
data_server - -# chaos_data : serves (pvc)

site_bk - - cronjob_bk
cronjob_bk - -* chaos_source : 24h

data_pull - - cronjob_pull
cronjob_pull - -* chaos_data : 24h

' Network
static_site ..> site_service: 0.0.0.0:80
pub_server ..> site_service: 0.0.0.0:8001
build_server ..> site_service: 0.0.0.0:9001
data_server ..> data_service: 0.0.0.0:7001

data_service ..> nginx_ingress
site_service ..> nginx_ingress
nginx_ingress ..> internet : https://*.alexbilson.dev
@enduml

@startuml
title k3s Deployment Diagram

skinparam nodeBackgroundColor #white
skinparam agentBackgroundColor #lightGreen
skinparam rectangleBackgroundColor #pink
skinparam componentBackgroundColor #lightBlue
skinparam folderBackgroundColor #tan
skinparam cloudBackgroundColor #white

node data_pull
rectangle cronjob_pull
agent data_service

node data_server {
  component datasette
}

folder chaos_data [
  chaos_data (PV)
]

package site_deployment {

  agent site_service

  node static_site {
    component nginx_st
  }

  node pub_server {
    component nginx_py
    component python_uwsgi

    python_uwsgi ..> nginx_py : localhost:5000
  }

  node build_server {
    component hugo_webhook
  }

  folder chaos_source [
    <b>source (PV)
    chaos_content/
    chaos_theme/
  ]

  folder chaos_site [
    chaos_site (PV)
  ]

  node site_bk
  rectangle cronjob_bk
}


node nginx_ingress [
  <b>nginx-ingress
  alexbilson.dev <i>:80
  pub.alexbilson.dev <i>:8001
  hook.alexbilson.dev <i>:9001
  data.alexbilson.dev <i>:7001
]

cloud internet


pub_server - -# chaos_source : uses (pvc)
build_server - -# chaos_source : uses (pvc)
build_server - -# chaos_site : compiles (pvc)
static_site - -# chaos_site : serves (pvc)
data_server - -# chaos_data : serves (pvc)

site_bk - - cronjob_bk
cronjob_bk - -* chaos_source : 24h

data_pull - - cronjob_pull
cronjob_pull - -* chaos_data : 24h

static_site ..> site_service: 0.0.0.0:80
pub_server ..> site_service: 0.0.0.0:8001
build_server ..> site_service: 0.0.0.0:9001
data_server ..> data_service: 0.0.0.0:7001

data_service ..> nginx_ingress
site_service ..> nginx_ingress
nginx_ingress ..> internet : https://*.alexbilson.dev
@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>